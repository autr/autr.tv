var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,a)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,__spreadValues=(t,e)=>{for(var a in e||(e={}))__hasOwnProp.call(e,a)&&__defNormalProp(t,a,e[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(e))__propIsEnum.call(e,a)&&__defNormalProp(t,a,e[a]);return t},__spreadProps=(t,e)=>__defProps(t,__getOwnPropDescs(e)),__objRest=(t,e)=>{var a={};for(var n in t)__hasOwnProp.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(null!=t&&__getOwnPropSymbols)for(var n of __getOwnPropSymbols(t))e.indexOf(n)<0&&__propIsEnum.call(t,n)&&(a[n]=t[n]);return a};import{S as SvelteComponent,i as init,s as safe_not_equal,e as element,c as create_component,a as space,t as text,b as claim_element,d as children,f as claim_component,g as claim_space,h as claim_text,j as detach,k as attr,l as insert,m as mount_component,n as append,o as set_data,p as transition_in,q as transition_out,r as destroy_component,u as assign,v as empty,w as get_spread_update,x as get_spread_object,y as setContext,z as afterUpdate,A as onMount,B as group_outros,C as check_outros,D as svg_element,E as set_svg_attributes,F as toggle_class,G as listen,H as noop,I as destroy_each,J as tweened,K as easingFunctions,L as component_subscribe,M as binding_callbacks,N as bind,O as set_style,P as add_flush_callback,Q as create_slot,R as update_slot,T as set_store_value,U as writable}from"./chunks/vendor-23824d3e.js";import{T as Title}from"./chunks/Title-eda65a75.js";import{_ as __vitePreload}from"./chunks/preload-helper-9f12a5fd.js";import{p as page,a as api}from"./chunks/stores-0bc72f03.js";import{M as Media,s as scroll}from"./chunks/store-f19ea592.js";import{L as LayoutTwoCol}from"./chunks/LayoutTwoCol-250600d9.js";function create_default_slot$1(t){let e,a=t[0].name+"";return{c(){e=text(a)},l(t){e=claim_text(t,a)},m(t,a){insert(t,e,a)},p(t,n){1&n&&a!==(a=t[0].name+"")&&set_data(e,a)},d(t){t&&detach(e)}}}function create_fragment$6(t){let e,a,n,r,s,o,c,i,l,d,_,p,h,u=t[0].message+"",m=t[0].stack+"";return a=new Title({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:t}}}),{c(){e=element("div"),create_component(a.$$.fragment),n=space(),r=element("div"),s=text(u),o=space(),c=element("pre"),i=element("code"),l=text(m),d=space(),_=element("a"),p=text("Return to Homepage"),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var h=children(e);claim_component(a.$$.fragment,h),n=claim_space(h),r=claim_element(h,"DIV",{class:!0});var f=children(r);s=claim_text(f,u),f.forEach(detach),o=claim_space(h),c=claim_element(h,"PRE",{class:!0});var g=children(c);i=claim_element(g,"CODE",{class:!0});var $=children(i);l=claim_text($,m),$.forEach(detach),g.forEach(detach),d=claim_space(h),_=claim_element(h,"A",{class:!0,href:!0});var b=children(_);p=claim_text(b,"Return to Homepage"),b.forEach(detach),h.forEach(detach),this.h()},h(){attr(r,"class","errors"),attr(i,"class","monospace"),attr(c,"class","radius2px filled p2 overflow-auto mb2"),attr(_,"class","button"),attr(_,"href","../"),attr(e,"class","cmb1")},m(t,u){insert(t,e,u),mount_component(a,e,null),append(e,n),append(e,r),append(r,s),append(e,o),append(e,c),append(c,i),append(i,l),append(e,d),append(e,_),append(_,p),h=!0},p(t,[e]){const n={};5&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n),(!h||1&e)&&u!==(u=t[0].message+"")&&set_data(s,u),(!h||1&e)&&m!==(m=t[0].stack+"")&&set_data(l,m)},i(t){h||(transition_in(a.$$.fragment,t),h=!0)},o(t){transition_out(a.$$.fragment,t),h=!1},d(t){t&&detach(e),destroy_component(a)}}}function instance$6(t,e,a){let{error:n}=e,{data:r}=e;return t.$$set=t=>{"error"in t&&a(0,n=t.error),"data"in t&&a(1,r=t.data)},[n,r]}class $error extends SvelteComponent{constructor(t){super(),init(this,t,instance$6,create_fragment$6,safe_not_equal,{error:0,data:1})}}var root_svelte_svelte_type_style_lang="#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}";function create_else_block$1(t){let e,a,n;const r=[t[4]||{}];var s=t[2][1];function o(t){let e={$$slots:{default:[create_default_slot_1]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)e=assign(e,r[a]);return{props:e}}return s&&(e=new s(o(t))),{c(){e&&create_component(e.$$.fragment),a=empty()},l(t){e&&claim_component(e.$$.fragment,t),a=empty()},m(t,r){e&&mount_component(e,t,r),insert(t,a,r),n=!0},p(t,n){const c=16&n?get_spread_update(r,[get_spread_object(t[4]||{})]):{};if(4132&n&&(c.$$scope={dirty:n,ctx:t}),s!==(s=t[2][1])){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}s?(e=new s(o(t)),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,a.parentNode,a)):e=null}else s&&e.$set(c)},i(t){n||(e&&transition_in(e.$$.fragment,t),n=!0)},o(t){e&&transition_out(e.$$.fragment,t),n=!1},d(t){t&&detach(a),e&&destroy_component(e,t)}}}function create_if_block_2(t){let e,a;return e=new $error({props:{status:t[0],error:t[1]}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,n){mount_component(e,t,n),a=!0},p(t,a){const n={};1&a&&(n.status=t[0]),2&a&&(n.error=t[1]),e.$set(n)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_if_block_3(t){let e,a,n;const r=[t[5]||{}];var s=t[2][2];function o(t){let e={};for(let a=0;a<r.length;a+=1)e=assign(e,r[a]);return{props:e}}return s&&(e=new s(o())),{c(){e&&create_component(e.$$.fragment),a=empty()},l(t){e&&claim_component(e.$$.fragment,t),a=empty()},m(t,r){e&&mount_component(e,t,r),insert(t,a,r),n=!0},p(t,n){const c=32&n?get_spread_update(r,[get_spread_object(t[5]||{})]):{};if(s!==(s=t[2][2])){if(e){group_outros();const t=e;transition_out(t.$$.fragment,1,0,(()=>{destroy_component(t,1)})),check_outros()}s?(e=new s(o()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,a.parentNode,a)):e=null}else s&&e.$set(c)},i(t){n||(e&&transition_in(e.$$.fragment,t),n=!0)},o(t){e&&transition_out(e.$$.fragment,t),n=!1},d(t){t&&detach(a),e&&destroy_component(e,t)}}}function create_default_slot_1(t){let e,a,n=t[2][2]&&create_if_block_3(t);return{c(){n&&n.c(),e=empty()},l(t){n&&n.l(t),e=empty()},m(t,r){n&&n.m(t,r),insert(t,e,r),a=!0},p(t,a){t[2][2]?n?(n.p(t,a),4&a&&transition_in(n,1)):(n=create_if_block_3(t),n.c(),transition_in(n,1),n.m(e.parentNode,e)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(t){a||(transition_in(n),a=!0)},o(t){transition_out(n),a=!1},d(t){n&&n.d(t),t&&detach(e)}}}function create_default_slot(t){let e,a,n,r;const s=[create_if_block_2,create_else_block$1],o=[];function c(t,e){return t[1]?0:1}return e=c(t),a=o[e]=s[e](t),{c(){a.c(),n=empty()},l(t){a.l(t),n=empty()},m(t,a){o[e].m(t,a),insert(t,n,a),r=!0},p(t,r){let i=e;e=c(t),e===i?o[e].p(t,r):(group_outros(),transition_out(o[i],1,1,(()=>{o[i]=null})),check_outros(),a=o[e],a?a.p(t,r):(a=o[e]=s[e](t),a.c()),transition_in(a,1),a.m(n.parentNode,n))},i(t){r||(transition_in(a),r=!0)},o(t){transition_out(a),r=!1},d(t){o[e].d(t),t&&detach(n)}}}function create_if_block$1(t){let e,a=t[7]&&create_if_block_1$1(t);return{c(){e=element("div"),a&&a.c(),this.h()},l(t){e=claim_element(t,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,class:!0});var n=children(e);a&&a.l(n),n.forEach(detach),this.h()},h(){attr(e,"id","svelte-announcer"),attr(e,"aria-live","assertive"),attr(e,"aria-atomic","true"),attr(e,"class","svelte-1j55zn5")},m(t,n){insert(t,e,n),a&&a.m(e,null)},p(t,n){t[7]?a?a.p(t,n):(a=create_if_block_1$1(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(t){t&&detach(e),a&&a.d()}}}function create_if_block_1$1(t){let e,a;return{c(){e=text("Navigated to "),a=text(t[8])},l(n){e=claim_text(n,"Navigated to "),a=claim_text(n,t[8])},m(t,n){insert(t,e,n),insert(t,a,n)},p(t,e){256&e&&set_data(a,t[8])},d(t){t&&detach(e),t&&detach(a)}}}function create_fragment$5(t){let e,a,n,r;const s=[t[3]||{}];let o={$$slots:{default:[create_default_slot]},$$scope:{ctx:t}};for(let i=0;i<s.length;i+=1)o=assign(o,s[i]);e=new t[9]({props:o});let c=t[6]&&create_if_block$1(t);return{c(){create_component(e.$$.fragment),a=space(),c&&c.c(),n=empty()},l(t){claim_component(e.$$.fragment,t),a=claim_space(t),c&&c.l(t),n=empty()},m(t,s){mount_component(e,t,s),insert(t,a,s),c&&c.m(t,s),insert(t,n,s),r=!0},p(t,[a]){const r=8&a?get_spread_update(s,[get_spread_object(t[3]||{})]):{};4151&a&&(r.$$scope={dirty:a,ctx:t}),e.$set(r),t[6]?c?c.p(t,a):(c=create_if_block$1(t),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null)},i(t){r||(transition_in(e.$$.fragment,t),r=!0)},o(t){transition_out(e.$$.fragment,t),r=!1},d(t){destroy_component(e,t),t&&detach(a),c&&c.d(t),t&&detach(n)}}}function instance$5(t,e,a){let{status:n}=e,{error:r}=e,{stores:s}=e,{page:o}=e,{components:c}=e,{props_0:i=null}=e,{props_1:l=null}=e,{props_2:d=null}=e;const _=c[0];setContext("__svelte__",s),afterUpdate(s.page.notify);let p=!1,h=!1,u=null;return onMount((()=>{const t=s.page.subscribe((()=>{p&&(a(7,h=!0),a(8,u=document.title))}));return a(6,p=!0),t})),t.$$set=t=>{"status"in t&&a(0,n=t.status),"error"in t&&a(1,r=t.error),"stores"in t&&a(10,s=t.stores),"page"in t&&a(11,o=t.page),"components"in t&&a(2,c=t.components),"props_0"in t&&a(3,i=t.props_0),"props_1"in t&&a(4,l=t.props_1),"props_2"in t&&a(5,d=t.props_2)},t.$$.update=()=>{3072&t.$$.dirty&&s.page.set(o)},[n,r,c,i,l,d,p,h,u,_,s,o]}class Root extends SvelteComponent{constructor(t){super(),init(this,t,instance$5,create_fragment$5,safe_not_equal,{status:0,error:1,stores:10,page:11,components:2,props_0:3,props_1:4,props_2:5})}}function get_each_context$2(t,e,a){const n=t.slice();return n[34]=e[a],n[36]=a,n}function create_each_block$2(t){let e,a,n=[{d:a=t[7][t[36]]},t[10]],r={};for(let s=0;s<n.length;s+=1)r=assign(r,n[s]);return{c(){e=svg_element("path"),this.h()},l(t){e=claim_element(t,"path",{d:!0},1),children(e).forEach(detach),this.h()},h(){set_svg_attributes(e,r)},m(t,a){insert(t,e,a)},p(t,s){set_svg_attributes(e,r=get_spread_update(n,[128&s[0]&&a!==(a=t[7][t[36]])&&{d:a},1024&s[0]&&t[10]]))},d(t){t&&detach(e)}}}function create_fragment$4(t){let e,a,n,r,s,o,c,i,l,d,_,p,h,u,m,f,g,$,b,y=t[0]?"dark":"light",v=[t[8],{fill:"black"}],k={};for(let I=0;I<v.length;I+=1)k=assign(k,v[I]);let w=[t[9],{r:d=t[9].r+t[6]},{fill:"white"}],x={};for(let I=0;I<w.length;I+=1)x=assign(x,w[I]);let E=new Array(t[3]),P=[];for(let I=0;I<E.length;I+=1)P[I]=create_each_block$2(get_each_context$2(t,E,I));let R=[t[9],{r:m=t[9].r+t[6]/2},t[10]],j={};for(let I=0;I<R.length;I+=1)j=assign(j,R[I]);let O=[t[8],{r:g=t[8].r+t[6]/2},t[10]],D={};for(let I=0;I<O.length;I+=1)D=assign(D,O[I]);return{c(){e=svg_element("svg"),a=text(y),n=text(">\n\t"),r=svg_element("defs"),s=svg_element("mask"),o=svg_element("rect"),c=svg_element("circle"),i=svg_element("mask"),l=svg_element("circle"),_=svg_element("g");for(let t=0;t<P.length;t+=1)P[t].c();p=svg_element("g"),h=svg_element("g"),u=svg_element("circle"),f=svg_element("circle"),this.h()},l(t){e=claim_element(t,"svg",{id:!0,width:!0,height:!0,class:!0,style:!0},1);var d=children(e);a=claim_text(d,y),n=claim_text(d,">\n\t"),r=claim_element(d,"defs",{},1);var m=children(r);s=claim_element(m,"mask",{id:!0},1);var g=children(s);o=claim_element(g,"rect",{width:!0,height:!0,fill:!0},1),children(o).forEach(detach),c=claim_element(g,"circle",{fill:!0},1),children(c).forEach(detach),g.forEach(detach),i=claim_element(m,"mask",{id:!0},1);var $=children(i);l=claim_element($,"circle",{r:!0,fill:!0},1),children(l).forEach(detach),$.forEach(detach),m.forEach(detach),_=claim_element(d,"g",{id:!0},1);var b=children(_);for(let e=0;e<P.length;e+=1)P[e].l(b);p=claim_element(b,"g",{mask:!0},1);var v=children(p);h=claim_element(v,"g",{mask:!0},1);var k=children(h);u=claim_element(k,"circle",{r:!0},1),children(u).forEach(detach),f=claim_element(k,"circle",{r:!0},1),children(f).forEach(detach),k.forEach(detach),v.forEach(detach),b.forEach(detach),d.forEach(detach),this.h()},h(){attr(o,"width","100%"),attr(o,"height","100%"),attr(o,"fill","white"),set_svg_attributes(c,k),attr(s,"id","coollightdarkicon-mask-cresent"),set_svg_attributes(l,x),attr(i,"id","coollightdarkicon-mask-circle"),set_svg_attributes(u,j),set_svg_attributes(f,D),attr(h,"mask","url(#coollightdarkicon-mask-cresent)"),attr(p,"mask","url(#coollightdarkicon-mask-circle)"),attr(_,"id","coollightdarkicon-icon"),attr(e,"id","coollightdarkicon"),attr(e,"width",t[4]),attr(e,"height",t[5]),attr(e,"class",t[1]),attr(e,"style",t[2]),toggle_class(e,"dark",t[0]),toggle_class(e,"light",!t[0])},m(d,m){insert(d,e,m),append(e,a),append(e,n),append(e,r),append(r,s),append(s,o),append(s,c),append(r,i),append(i,l),append(e,_);for(let t=0;t<P.length;t+=1)P[t].m(_,null);append(_,p),append(p,h),append(h,u),append(h,f),$||(b=listen(e,"click",t[16]),$=!0)},p(t,n){if(1&n[0]&&y!==(y=t[0]?"dark":"light")&&set_data(a,y),set_svg_attributes(c,k=get_spread_update(v,[256&n[0]&&t[8],{fill:"black"}])),set_svg_attributes(l,x=get_spread_update(w,[512&n[0]&&t[9],576&n[0]&&d!==(d=t[9].r+t[6])&&{r:d},{fill:"white"}])),1160&n[0]){let e;for(E=new Array(t[3]),e=0;e<E.length;e+=1){const a=get_each_context$2(t,E,e);P[e]?P[e].p(a,n):(P[e]=create_each_block$2(a),P[e].c(),P[e].m(_,p))}for(;e<P.length;e+=1)P[e].d(1);P.length=E.length}set_svg_attributes(u,j=get_spread_update(R,[512&n[0]&&t[9],576&n[0]&&m!==(m=t[9].r+t[6]/2)&&{r:m},1024&n[0]&&t[10]])),set_svg_attributes(f,D=get_spread_update(O,[256&n[0]&&t[8],320&n[0]&&g!==(g=t[8].r+t[6]/2)&&{r:g},1024&n[0]&&t[10]])),16&n[0]&&attr(e,"width",t[4]),32&n[0]&&attr(e,"height",t[5]),2&n[0]&&attr(e,"class",t[1]),4&n[0]&&attr(e,"style",t[2]),3&n[0]&&toggle_class(e,"dark",t[0]),3&n[0]&&toggle_class(e,"light",!t[0])},i:noop,o:noop,d(t){t&&detach(e),destroy_each(P,t),$=!1,b()}}}function instance$4(t,e,a){let n,r,s,o,c,i,l,d;function _(t,e){const{x:a,y:n}={x:m/2,y:f/2};return{x:Math.cos(t*Math.PI/180)*e+a,y:Math.sin(t*Math.PI/180)*e+n}}let{class:p=""}=e,{style:h=""}=e,{amount:u=10}=e,{width:m=200}=e,{height:f=200}=e,{stroke:g=2}=e,{rays:$=.2}=e,{space:b=.1}=e,{dark:y=!1}=e,{duration:v=1e3}=e,{offset:k={x:.6,y:.4,r:.85}}=e,{end:w={x:1,y:0,r:.5}}=e,{easing:x="cubicOut"}=e,{color:E="#efefef"}=e,P=tweened(k.x,{duration:v,easing:easingFunctions[x]});component_subscribe(t,P,(t=>a(24,o=t)));let R=tweened(k.y,{duration:v,easing:easingFunctions[x]});component_subscribe(t,R,(t=>a(25,c=t)));let j=tweened(k.r,{duration:v,easing:easingFunctions[x]});component_subscribe(t,j,(t=>a(26,i=t)));let O=tweened(1,{duration:v,easing:easingFunctions[x]});component_subscribe(t,O,(t=>a(27,l=t)));let D=tweened(0,{duration:v,easing:easingFunctions[x]});component_subscribe(t,D,(t=>a(28,d=t)));let I=[];return t.$$set=t=>{"class"in t&&a(1,p=t.class),"style"in t&&a(2,h=t.style),"amount"in t&&a(3,u=t.amount),"width"in t&&a(4,m=t.width),"height"in t&&a(5,f=t.height),"stroke"in t&&a(6,g=t.stroke),"rays"in t&&a(17,$=t.rays),"space"in t&&a(18,b=t.space),"dark"in t&&a(0,y=t.dark),"duration"in t&&a(19,v=t.duration),"offset"in t&&a(20,k=t.offset),"end"in t&&a(21,w=t.end),"easing"in t&&a(22,x=t.easing),"color"in t&&a(23,E=t.color)},t.$$.update=()=>{1&t.$$.dirty[0]&&(y?(P.set(k.x),R.set(k.y),j.set(k.r),O.set(1),D.set(0)):(P.set(w.x),R.set(w.y),j.set(w.r),O.set(1-b-$),D.set(1))),117440624&t.$$.dirty[0]&&a(8,n={cx:o*m,cy:c*f,r:Math.min(m,f)/2*i-g}),134217840&t.$$.dirty[0]&&a(9,r={cx:m/2,cy:f/2,r:Math.min(m,f)/2*l-g}),268566536&t.$$.dirty[0]&&function(t,e,n){let r=[];for(let a=0;a<e;a++){const t=360/e*a,s=Math.min(m,f)/2,o=_(t,(1-$*n)*s),c=_(t,1*s),i=`M${o.x} ${o.y} L${c.x} ${c.y}`;r.push(i)}a(7,I=r)}(0,u,d),8388672&t.$$.dirty[0]&&a(10,s={"stroke-width":g,fill:"transparent",stroke:E})},[y,p,h,u,m,f,g,I,n,r,s,P,R,j,O,D,function(t){a(0,y=!y)},$,b,v,k,w,x,E,o,c,i,l,d]}class RadCoolLightDarkIcon_wc extends SvelteComponent{constructor(t){super(),init(this,t,instance$4,create_fragment$4,safe_not_equal,{class:1,style:2,amount:3,width:4,height:5,stroke:6,rays:17,space:18,dark:0,duration:19,offset:20,end:21,easing:22,color:23},[-1,-1])}}function get_each_context$1(t,e,a){const n=t.slice();return n[13]=e[a][0],n[14]=e[a][1],n}function create_each_block$1(t){let e,a,n,r=t[13]+"";return{c(){e=element("div"),a=element("a"),n=text(r),this.h()},l(t){e=claim_element(t,"DIV",{});var s=children(e);a=claim_element(s,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var o=children(a);n=claim_text(o,r),o.forEach(detach),s.forEach(detach),this.h()},h(){attr(a,"sveltekit:prefetch",""),attr(a,"href",t[14]),attr(a,"class","ptb0-2 block bold"),toggle_class(a,"bb2-solid",t[5].path==t[14])},m(t,r){insert(t,e,r),append(e,a),append(a,n)},p(t,e){96&e&&toggle_class(a,"bb2-solid",t[5].path==t[14])},d(t){t&&detach(e)}}}function create_fragment$3(t){let e,a,n,r,s,o,c,i,l,d,_,p,h,u,m,f,g,$,b,y,v,k,w;l=new Media({props:{file:t[3][0]}});let x=Object.entries(t[6]),E=[];for(let O=0;O<x.length;O+=1)E[O]=create_each_block$1(get_each_context$1(t,x,O));const P=[{class:"pointer"},t[7]];function R(e){t[11](e)}let j={};for(let O=0;O<P.length;O+=1)j=assign(j,P[O]);return void 0!==t[0]&&(j.dark=t[0]),y=new RadCoolLightDarkIcon_wc({props:j}),binding_callbacks.push((()=>bind(y,"dark",R))),{c(){e=element("div"),a=element("div"),n=element("h1"),r=element("a"),s=element("span"),o=text(t[1]),c=space(),i=element("span"),create_component(l.$$.fragment),d=space(),_=element("div"),p=text(t[2]),u=space(),m=element("div");for(let t=0;t<E.length;t+=1)E[t].c();f=space(),g=element("a"),$=text("subscribe"),b=space(),create_component(y.$$.fragment),this.h()},l(h){e=claim_element(h,"DIV",{class:!0});var v=children(e);a=claim_element(v,"DIV",{class:!0});var k=children(a);n=claim_element(k,"H1",{});var w=children(n);r=claim_element(w,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var x=children(r);s=claim_element(x,"SPAN",{class:!0});var P=children(s);o=claim_text(P,t[1]),P.forEach(detach),c=claim_space(x),i=claim_element(x,"SPAN",{class:!0,style:!0});var R=children(i);claim_component(l.$$.fragment,R),R.forEach(detach),x.forEach(detach),w.forEach(detach),k.forEach(detach),d=claim_space(v),_=claim_element(v,"DIV",{class:!0});var j=children(_);p=claim_text(j,t[2]),j.forEach(detach),v.forEach(detach),u=claim_space(h),m=claim_element(h,"DIV",{class:!0});var O=children(m);for(let t=0;t<E.length;t+=1)E[t].l(O);f=claim_space(O),g=claim_element(O,"A",{class:!0,href:!0});var D=children(g);$=claim_text(D,"subscribe"),D.forEach(detach),b=claim_space(O),claim_component(y.$$.fragment,O),O.forEach(detach),this.h()},h(){attr(s,"class","f1 abs hidden"),attr(i,"class","minw120px maxw140px block"),set_style(i,"filter","invert(1)"),set_style(i,"mix-blend-mode","screen"),attr(r,"sveltekit:prefetch",""),attr(r,"href","/"),attr(r,"class","rel unclickable"),attr(a,"class","ptb1"),attr(_,"class","f1 italic maxw4em"),attr(e,"class",h="flex "+t[4]+"-center-center wrap"),toggle_class(e,"cmr2","row"==t[4]),attr(g,"class","button text-center"),attr(g,"href","/subscribe"),attr(m,"class",k="flex "+t[4]+"-center-center ptb1 wrap"),toggle_class(m,"cml2","row"==t[4])},m(t,h){insert(t,e,h),append(e,a),append(a,n),append(n,r),append(r,s),append(s,o),append(r,c),append(r,i),mount_component(l,i,null),append(e,d),append(e,_),append(_,p),insert(t,u,h),insert(t,m,h);for(let e=0;e<E.length;e+=1)E[e].m(m,null);append(m,f),append(m,g),append(g,$),append(m,b),mount_component(y,m,null),w=!0},p(t,[a]){(!w||2&a)&&set_data(o,t[1]);const n={};if(8&a&&(n.file=t[3][0]),l.$set(n),(!w||4&a)&&set_data(p,t[2]),(!w||16&a&&h!==(h="flex "+t[4]+"-center-center wrap"))&&attr(e,"class",h),16&a&&toggle_class(e,"cmr2","row"==t[4]),96&a){let e;for(x=Object.entries(t[6]),e=0;e<x.length;e+=1){const n=get_each_context$1(t,x,e);E[e]?E[e].p(n,a):(E[e]=create_each_block$1(n),E[e].c(),E[e].m(m,f))}for(;e<E.length;e+=1)E[e].d(1);E.length=x.length}const r=128&a?get_spread_update(P,[P[0],get_spread_object(t[7])]):{};!v&&1&a&&(v=!0,r.dark=t[0],add_flush_callback((()=>v=!1))),y.$set(r),(!w||16&a&&k!==(k="flex "+t[4]+"-center-center ptb1 wrap"))&&attr(m,"class",k),16&a&&toggle_class(m,"cml2","row"==t[4])},i(t){w||(transition_in(l.$$.fragment,t),transition_in(y.$$.fragment,t),w=!0)},o(t){transition_out(l.$$.fragment,t),transition_out(y.$$.fragment,t),w=!1},d(t){t&&detach(e),destroy_component(l),t&&detach(u),t&&detach(m),destroy_each(E,t),destroy_component(y)}}}function instance$3(t,e,a){let n;component_subscribe(t,page,(t=>a(5,n=t)));let{title:r}=e,{subtitle:s}=e,{icon:o}=e,{id:c}=e,{created:i}=e,{updated:l}=e,{orientation:d="column"}=e,{dark:_=!1}=e;return t.$$set=t=>{"title"in t&&a(1,r=t.title),"subtitle"in t&&a(2,s=t.subtitle),"icon"in t&&a(3,o=t.icon),"id"in t&&a(8,c=t.id),"created"in t&&a(9,i=t.created),"updated"in t&&a(10,l=t.updated),"orientation"in t&&a(4,d=t.orientation),"dark"in t&&a(0,_=t.dark)},[_,r,s,o,d,n,{Feed:"/feed",Projects:"/projects",About:"/about"},{width:40,height:40,duration:400,stroke:1},c,i,l,function(t){_=t,a(0,_)}]}class Header extends SvelteComponent{constructor(t){super(),init(this,t,instance$3,create_fragment$3,safe_not_equal,{title:1,subtitle:2,icon:3,id:8,created:9,updated:10,orientation:4,dark:0})}}function get_each_context(t,e,a){const n=t.slice();return n[6]=e[a][0],n[7]=e[a][1],n}function create_each_block(t){let e,a,n,r,s,o,c,i=t[6][0]+"";function l(...e){return t[4](t[6],t[7],...e)}return{c(){e=element("a"),a=text(i),n=space(),this.h()},l(t){e=claim_element(t,"A",{style:!0,href:!0,target:!0,rel:!0,class:!0});var r=children(e);a=claim_text(r,i),n=claim_space(r),r.forEach(detach),this.h()},h(){attr(e,"style",r=`\n                    color: ${t[2][t[6]]};\n                    border-color: ${t[2][t[6]]};\n                `),attr(e,"href",s=t[7]),attr(e,"target","_blank"),attr(e,"rel","external"),attr(e,"class","b1-solid grow ptb0-4 text-center")},m(t,r){insert(t,e,r),append(e,a),append(e,n),o||(c=listen(e,"mouseover",l),o=!0)},p(n,o){t=n,1&o&&i!==(i=t[6][0]+"")&&set_data(a,i),1&o&&r!==(r=`\n                    color: ${t[2][t[6]]};\n                    border-color: ${t[2][t[6]]};\n                `)&&attr(e,"style",r),1&o&&s!==(s=t[7])&&attr(e,"href",s)},d(t){t&&detach(e),o=!1,c()}}}function create_fragment$2(t){var e;let a,n,r,s,o,c,i=(null==(e=t[1])?void 0:e.name)+"",l=Object.entries(t[0]),d=[];for(let _=0;_<l.length;_+=1)d[_]=create_each_block(get_each_context(t,l,_));return{c(){a=element("div"),n=element("div"),r=text(i),o=space(),c=element("div");for(let t=0;t<d.length;t+=1)d[t].c();this.h()},l(t){a=claim_element(t,"DIV",{class:!0});var e=children(a);n=claim_element(e,"DIV",{class:!0,style:!0});var s=children(n);r=claim_text(s,i),s.forEach(detach),o=claim_space(e),c=claim_element(e,"DIV",{class:!0});var l=children(c);for(let a=0;a<d.length;a+=1)d[a].l(l);l.forEach(detach),e.forEach(detach),this.h()},h(){var e;attr(n,"class","align-self-flex-start plr1 radius1px filled"),attr(n,"style",s=`\n            background-color: ${t[2][null==(e=t[1])?void 0:e.name]}\n        `),toggle_class(n,"hidden",!t[1]),attr(c,"class","flex row-stretch-flex-start cmr0-5 "),attr(a,"class","flex column cmt1")},m(t,e){insert(t,a,e),append(a,n),append(n,r),append(a,o),append(a,c);for(let a=0;a<d.length;a+=1)d[a].m(c,null)},p(t,[e]){var a,o;if(2&e&&i!==(i=(null==(a=t[1])?void 0:a.name)+"")&&set_data(r,i),2&e&&s!==(s=`\n            background-color: ${t[2][null==(o=t[1])?void 0:o.name]}\n        `)&&attr(n,"style",s),2&e&&toggle_class(n,"hidden",!t[1]),13&e){let a;for(l=Object.entries(t[0]),a=0;a<l.length;a+=1){const n=get_each_context(t,l,a);d[a]?d[a].p(n,e):(d[a]=create_each_block(n),d[a].c(),d[a].m(c,null))}for(;a<d.length;a+=1)d[a].d(1);d.length=l.length}},i:noop,o:noop,d(t){t&&detach(a),destroy_each(d,t)}}}function instance$2(t,e,a){let{social:n={instagram:"https://instagram.com/autr.tv",vimeo:"https://vimeo.com/autr",github:"https://github.com/autr",facebook:"https://facebook.com/autr.tv",email:"mailto:ping@autr.tv"}}=e;let r,s;function o(t){s&&clearTimeout(s),console.log(t,"!!!"),a(1,r=t),s=setTimeout((t=>a(1,r=null)),1e3)}return t.$$set=t=>{"social"in t&&a(0,n=t.social)},[n,r,{instagram:"#ffdc7d",vimeo:"#7cd1ec",facebook:"#b7a896",github:"#e6e6e6",email:"#e6e6e6"},o,(t,e,a)=>o({name:t,link:e})]}class Footer extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$2,safe_not_equal,{social:0})}}const get_footer_slot_changes=t=>({}),get_footer_slot_context=t=>({}),get_body_slot_changes=t=>({}),get_body_slot_context=t=>({}),get_subheader_slot_changes=t=>({}),get_subheader_slot_context=t=>({}),get_header_slot_changes=t=>({}),get_header_slot_context=t=>({});function create_fragment$1(t){let e,a,n,r,s,o,c,i,l;const d=t[6].header,_=create_slot(d,t,t[5],get_header_slot_context),p=t[6].subheader,h=create_slot(p,t,t[5],get_subheader_slot_context),u=t[6].body,m=create_slot(u,t,t[5],get_body_slot_context),f=t[6].footer,g=create_slot(f,t,t[5],get_footer_slot_context);return{c(){e=element("div"),a=element("div"),_&&_.c(),n=space(),h&&h.c(),r=space(),m&&m.c(),s=space(),g&&g.c(),this.h()},l(t){e=claim_element(t,"DIV",{class:!0});var o=children(e);a=claim_element(o,"DIV",{class:!0});var c=children(a);_&&_.l(c),n=claim_space(c),h&&h.l(c),r=claim_space(c),m&&m.l(c),s=claim_space(c),g&&g.l(c),c.forEach(detach),o.forEach(detach),this.h()},h(){attr(a,"class",o="flex column-stretch-flex-start margin-auto maxw"+t[0]+"em h100vh grow"),attr(e,"class","\n        bg \n        flex \n        w100vh \n        h100vh \n        plr1\n        overflow-auto")},m(o,d){insert(o,e,d),append(e,a),_&&_.m(a,null),append(a,n),h&&h.m(a,null),append(a,r),m&&m.m(a,null),append(a,s),g&&g.m(a,null),c=!0,i||(l=listen(e,"scroll",t[7]),i=!0)},p(t,[e]){_&&_.p&&(!c||32&e)&&update_slot(_,d,t,t[5],e,get_header_slot_changes,get_header_slot_context),h&&h.p&&(!c||32&e)&&update_slot(h,p,t,t[5],e,get_subheader_slot_changes,get_subheader_slot_context),m&&m.p&&(!c||32&e)&&update_slot(m,u,t,t[5],e,get_body_slot_changes,get_body_slot_context),g&&g.p&&(!c||32&e)&&update_slot(g,f,t,t[5],e,get_footer_slot_changes,get_footer_slot_context),(!c||1&e&&o!==(o="flex column-stretch-flex-start margin-auto maxw"+t[0]+"em h100vh grow"))&&attr(a,"class",o)},i(t){c||(transition_in(_,t),transition_in(h,t),transition_in(m,t),transition_in(g,t),c=!0)},o(t){transition_out(_,t),transition_out(h,t),transition_out(m,t),transition_out(g,t),c=!1},d(t){t&&detach(e),_&&_.d(t),h&&h.d(t),m&&m.d(t),g&&g.d(t),i=!1,l()}}}function instance$1(t,e,a){let n;component_subscribe(t,scroll,(t=>a(8,n=t)));let{$$slots:r={},$$scope:s}=e,{class:o=""}=e,{style:c=""}=e,{width:i=74}=e,{sticky:l=!1}=e;function d(t,e){set_store_value(scroll,n[e+"Top"]=t.target.scrollTop,n),set_store_value(scroll,n[e+"Height"]=t.target.scrollHeight,n)}return t.$$set=t=>{"class"in t&&a(2,o=t.class),"style"in t&&a(3,c=t.style),"width"in t&&a(0,i=t.width),"sticky"in t&&a(4,l=t.sticky),"$$scope"in t&&a(5,s=t.$$scope)},[i,d,o,c,l,s,r,t=>d(t,"items")]}class LayoutTopBar extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,{class:2,style:3,width:0,sticky:4})}}function create_else_block(t){let e;return{c(){e=text("Layout not set")},l(t){e=claim_text(t,"Layout not set")},m(t,a){insert(t,e,a)},p:noop,i:noop,o:noop,d(t){t&&detach(e)}}}function create_if_block_1(t){let e,a;return e=new LayoutTopBar({props:{$$slots:{body:[create_body_slot],header:[create_header_slot]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,n){mount_component(e,t,n),a=!0},p(t,a){const n={};67&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_if_block(t){let e,a;return e=new LayoutTwoCol({props:{$$slots:{right:[create_right_slot],left:[create_left_slot]},$$scope:{ctx:t}}}),{c(){create_component(e.$$.fragment)},l(t){claim_component(e.$$.fragment,t)},m(t,n){mount_component(e,t,n),a=!0},p(t,a){const n={};67&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_header_slot(t){let e,a,n,r;const s=[t[0],{orientation:"row"}];function o(e){t[5](e)}let c={};for(let i=0;i<s.length;i+=1)c=assign(c,s[i]);return void 0!==t[1]&&(c.dark=t[1]),a=new Header({props:c}),binding_callbacks.push((()=>bind(a,"dark",o))),{c(){e=element("header"),create_component(a.$$.fragment),this.h()},l(t){e=claim_element(t,"HEADER",{slot:!0,class:!0});var n=children(e);claim_component(a.$$.fragment,n),n.forEach(detach),this.h()},h(){attr(e,"slot","header"),attr(e,"class","flex row-space-between-center")},m(t,n){insert(t,e,n),mount_component(a,e,null),r=!0},p(t,e){const r=1&e?get_spread_update(s,[get_spread_object(t[0]),s[1]]):{};!n&&2&e&&(n=!0,r.dark=t[1],add_flush_callback((()=>n=!1))),a.$set(r)},i(t){r||(transition_in(a.$$.fragment,t),r=!0)},o(t){transition_out(a.$$.fragment,t),r=!1},d(t){t&&detach(e),destroy_component(a)}}}function create_body_slot(t){let e,a;const n=t[3].default,r=create_slot(n,t,t[6],null);return{c(){e=element("div"),r&&r.c(),this.h()},l(t){e=claim_element(t,"DIV",{slot:!0,class:!0});var a=children(e);r&&r.l(a),a.forEach(detach),this.h()},h(){attr(e,"slot","body"),attr(e,"class","flex column-stretch-flex-start grow pt1")},m(t,n){insert(t,e,n),r&&r.m(e,null),a=!0},p(t,e){r&&r.p&&(!a||64&e)&&update_slot(r,n,t,t[6],e,null,null)},i(t){a||(transition_in(r,t),a=!0)},o(t){transition_out(r,t),a=!1},d(t){t&&detach(e),r&&r.d(t)}}}function create_left_slot(t){let e,a,n,r,s,o,c;const i=[t[0]];function l(e){t[4](e)}let d={};for(let _=0;_<i.length;_+=1)d=assign(d,i[_]);return void 0!==t[1]&&(d.dark=t[1]),n=new Header({props:d}),binding_callbacks.push((()=>bind(n,"dark",l))),o=new Footer({}),{c(){e=element("div"),a=element("header"),create_component(n.$$.fragment),s=space(),create_component(o.$$.fragment),this.h()},l(t){e=claim_element(t,"DIV",{slot:!0,class:!0});var r=children(e);a=claim_element(r,"HEADER",{});var c=children(a);claim_component(n.$$.fragment,c),c.forEach(detach),s=claim_space(r),claim_component(o.$$.fragment,r),r.forEach(detach),this.h()},h(){attr(e,"slot","left"),attr(e,"class","flex column-stretch-space-between grow")},m(t,r){insert(t,e,r),append(e,a),mount_component(n,a,null),append(e,s),mount_component(o,e,null),c=!0},p(t,e){const a=1&e?get_spread_update(i,[get_spread_object(t[0])]):{};!r&&2&e&&(r=!0,a.dark=t[1],add_flush_callback((()=>r=!1))),n.$set(a)},i(t){c||(transition_in(n.$$.fragment,t),transition_in(o.$$.fragment,t),c=!0)},o(t){transition_out(n.$$.fragment,t),transition_out(o.$$.fragment,t),c=!1},d(t){t&&detach(e),destroy_component(n),destroy_component(o)}}}function create_right_slot(t){let e,a;const n=t[3].default,r=create_slot(n,t,t[6],null);return{c(){e=element("div"),r&&r.c(),this.h()},l(t){e=claim_element(t,"DIV",{slot:!0});var a=children(e);r&&r.l(a),a.forEach(detach),this.h()},h(){attr(e,"slot","right")},m(t,n){insert(t,e,n),r&&r.m(e,null),a=!0},p(t,e){r&&r.p&&(!a||64&e)&&update_slot(r,n,t,t[6],e,null,null)},i(t){a||(transition_in(r,t),a=!0)},o(t){transition_out(r,t),a=!1},d(t){t&&detach(e),r&&r.d(t)}}}function create_fragment(t){let e,a,n,r;const s=[create_if_block,create_if_block_1,create_else_block],o=[];function c(t,e){return"two-col"==t[2]?0:"top-bar"==t[2]?1:2}return a=c(t),n=o[a]=s[a](t),{c(){e=element("main"),n.c(),this.h()},l(t){e=claim_element(t,"MAIN",{});var a=children(e);n.l(a),a.forEach(detach),this.h()},h(){toggle_class(e,"dark",t[1])},m(t,n){insert(t,e,n),o[a].m(e,null),r=!0},p(t,[r]){let i=a;a=c(t),a===i?o[a].p(t,r):(group_outros(),transition_out(o[i],1,1,(()=>{o[i]=null})),check_outros(),n=o[a],n?n.p(t,r):(n=o[a]=s[a](t),n.c()),transition_in(n,1),n.m(e,null)),2&r&&toggle_class(e,"dark",t[1])},i(t){r||(transition_in(n),r=!0)},o(t){transition_out(n),r=!1},d(t){t&&detach(e),o[a].d()}}}const load=api.get((t=>"http://localhost:3000/api/autr/items/info?depth=1"),0);function instance($$self,$$props,$$invalidate){let{$$slots:slots={},$$scope:$$scope}=$$props;const darkKey=window.location.host+"-darkmode";function initDark(){let out=eval(window.localStorage.getItem(darkKey));return 1!=out&&0!=out&&(out=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches||!1),out}let dark=initDark();function onDarkChange(t){window.localStorage.setItem(darkKey,dark)}let{data:data}=$$props,layout="two-col";function header0_dark_binding(t){dark=t,$$invalidate(1,dark)}function header0_dark_binding_1(t){dark=t,$$invalidate(1,dark)}return layout="top-bar",$$self.$$set=t=>{"data"in t&&$$invalidate(0,data=t.data),"$$scope"in t&&$$invalidate(6,$$scope=t.$$scope)},$$self.$$.update=()=>{2&$$self.$$.dirty&&onDarkChange()},[data,dark,layout,slots,header0_dark_binding,header0_dark_binding_1,$$scope]}class $layout extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{data:0})}}var layout=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:$layout,load:load});const components=[()=>__vitePreload((()=>import("./pages/index.svelte-a9ba2584.js")),["/_app/pages/index.svelte-a9ba2584.js","/_app/chunks/vendor-23824d3e.js"]),()=>__vitePreload((()=>import("./pages/subscribe/index.svelte-e68f9dae.js")),["/_app/pages/subscribe/index.svelte-e68f9dae.js","/_app/chunks/preload-helper-9f12a5fd.js","/_app/chunks/vendor-23824d3e.js","/_app/chunks/Title-eda65a75.js"]),()=>__vitePreload((()=>import("./pages/projects/index.svelte-a139d21b.js")),["/_app/pages/projects/index.svelte-a139d21b.js","/_app/chunks/vendor-23824d3e.js"]),()=>__vitePreload((()=>import("./pages/about.svelte-e2ade9d4.js")),["/_app/pages/about.svelte-e2ade9d4.js","/_app/chunks/vendor-23824d3e.js","/_app/chunks/Title-eda65a75.js"]),()=>__vitePreload((()=>import("./pages/code/index.svelte-307f1cfe.js")),["/_app/pages/code/index.svelte-307f1cfe.js","/_app/chunks/vendor-23824d3e.js"]),()=>__vitePreload((()=>import("./pages/feed/$layout.svelte-1a043299.js")),["/_app/pages/feed/$layout.svelte-1a043299.js","/_app/chunks/vendor-23824d3e.js","/_app/chunks/stores-0bc72f03.js","/_app/chunks/PostText-e2c156bf.js","/_app/chunks/store-f19ea592.js"]),()=>__vitePreload((()=>import("./pages/feed/index.svelte-0b7660b1.js")),["/_app/pages/feed/index.svelte-0b7660b1.js","/_app/chunks/vendor-23824d3e.js"]),()=>__vitePreload((()=>import("./pages/feed/[year]/index.svelte-65674cef.js")),["/_app/pages/feed/[year]/index.svelte-65674cef.js","/_app/chunks/vendor-23824d3e.js"]),()=>__vitePreload((()=>import("./pages/feed/[year]/[id].svelte-fbdd7bb9.js")),["/_app/pages/feed/[year]/[id].svelte-fbdd7bb9.js","/_app/chunks/vendor-23824d3e.js","/_app/chunks/LayoutTwoCol-250600d9.js","/_app/chunks/store-f19ea592.js","/_app/chunks/PostText-e2c156bf.js"])],d=decodeURIComponent,routes=[[/^\/$/,[components[0]]],[/^\/subscribe\/?$/,[components[1]]],[/^\/projects\/?$/,[components[2]]],[/^\/rss\.xml$/],[/^\/about\/?$/,[components[3]]],[/^\/code\/?$/,[components[4]]],[/^\/feed\/?$/,[components[5],components[6]]],[/^\/feed\/([^/]+?)\/?$/,[components[5],components[7]],t=>({year:d(t[1])})],[/^\/feed\/([^/]+?)\/([^/]+?)\/?$/,[components[5],components[8]],t=>({year:d(t[1]),id:d(t[2])})]];function get_base_uri(t){let e=t.baseURI;if(!e){const a=t.getElementsByTagName("base");e=a.length?a[0].href:t.URL}return e}function scroll_state(){return{x:pageXOffset,y:pageYOffset}}function find_anchor(t){for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;return t}class Router{constructor({base:t,routes:e}){this.base=t,this.routes=e}init(t){let e;this.renderer=t,t.router=this,this.enabled=!0,"scrollRestoration"in history&&(history.scrollRestoration="manual"),addEventListener("beforeunload",(()=>{history.scrollRestoration="auto"})),addEventListener("load",(()=>{history.scrollRestoration="manual"})),addEventListener("scroll",(()=>{clearTimeout(e),e=setTimeout((()=>{const t=__spreadProps(__spreadValues({},history.state||{}),{"sveltekit:scroll":scroll_state()});history.replaceState(t,document.title,window.location.href)}),50)}));const a=t=>{const e=find_anchor(t.target);e&&e.hasAttribute("sveltekit:prefetch")&&this.prefetch(new URL(e.href))};let n;addEventListener("touchstart",a),addEventListener("mousemove",(t=>{clearTimeout(n),n=setTimeout((()=>{a(t)}),20)})),addEventListener("click",(t=>{if(!this.enabled)return;if(t.button||1!==t.which)return;if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;if(t.defaultPrevented)return;const e=find_anchor(t.target);if(!e)return;if(!e.href)return;const a="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name,n=String(a?e.href.baseVal:e.href);if(n===location.href)return void(location.hash||t.preventDefault());if(e.hasAttribute("download")||"external"===e.getAttribute("rel"))return;if(a?e.target.baseVal:e.target)return;const r=new URL(n);if(r.pathname===location.pathname&&r.search===location.search)return;const s=this.parse(r);if(s){const a=e.hasAttribute("sveltekit:noscroll");history.pushState({},"",r.href),this._navigate(s,a?scroll_state():null,[],r.hash),t.preventDefault()}})),addEventListener("popstate",(t=>{if(t.state&&this.enabled){const e=new URL(location.href),a=this.parse(e);a?this._navigate(a,t.state["sveltekit:scroll"],[]):location.href=location.href}})),document.body.setAttribute("tabindex","-1"),history.replaceState(history.state||{},"",location.href)}parse(t){if(t.origin!==location.origin)return null;if(!t.pathname.startsWith(this.base))return null;const e=t.pathname.slice(this.base.length)||"/",a=this.routes.filter((([t])=>t.test(e)));if(a.length>0){const n=new URLSearchParams(t.search);return{id:`${e}?${n}`,routes:a,path:e,query:n}}}async goto(t,{noscroll:e=!1,replaceState:a=!1}={},n){if(this.enabled){const r=new URL(t,get_base_uri(document)),s=this.parse(r);if(s)return history[a?"replaceState":"pushState"]({},"",t),this._navigate(s,e?scroll_state():null,n,r.hash)}return location.href=t,new Promise((()=>{}))}enable(){this.enabled=!0}disable(){this.enabled=!1}async prefetch(t){const e=this.parse(t);if(e)return this.renderer.load(e);throw new Error(`Could not prefetch ${t.href}`)}async _navigate(t,e,a,n){this.renderer.notify({path:t.path,query:t.query}),location.pathname.endsWith("/")&&"/"!==location.pathname&&history.replaceState({},"",`${location.pathname.slice(0,-1)}${location.search}`),await this.renderer.update(t,a),document.body.focus();const r=n&&document.getElementById(n.slice(1));e?scrollTo(e.x,e.y):r?scrollTo(0,r.getBoundingClientRect().top+scrollY):scrollTo(0,0)}}function normalize(t){if(t.error){const e="string"==typeof t.error?new Error(t.error):t.error,a=t.status;return e instanceof Error?!a||a<400||a>599?(console.warn('"error" returned from load() without a valid status code — defaulting to 500'),{status:500,error:e}):{status:a,error:e}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof e}"`)}}if(t.redirect){if(!t.status||3!==Math.floor(t.status/100))return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if("string"!=typeof t.redirect)return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}return t}function page_store(t){const e=writable(t);let a=!0;return{notify:function(){a=!0,e.update((t=>t))},set:function(t){a=!1,e.set(t)},subscribe:function(t){let n;return e.subscribe((e=>{(void 0===n||a&&e!==n)&&t(n=e)}))}}}function initial_fetch(t,e){const a="string"==typeof t?t:t.url,n=document.querySelector(`script[type="svelte-data"][url="${a}"]`);if(n){const t=JSON.parse(n.textContent),{body:e}=t,a=__objRest(t,["body"]);return Promise.resolve(new Response(e,a))}return fetch(t,e)}class Renderer{constructor({Root:t,layout:e,target:a,session:n,host:r}){this.Root=t,this.layout=e,this.host=r,this.router=null,this.target=a,this.started=!1,this.current={page:null,query:null,session_changed:!1,nodes:[],contexts:[]},this.caches=new Map,this.loading={id:null,promise:null},this.stores={page:page_store({}),navigating:writable(null),session:writable(n)},this.$session=null,this.root=null;let s=!1;this.stores.session.subscribe((async t=>{if(this.$session=t,!s)return;this.current.session_changed=!0;const e=this.router.parse(new URL(location.href));this.update(e,[])})),s=!0}async start(t){const e=await this._load(t);e.redirect?location.href=new URL(e.redirect,location.href).href:this._init(e)}notify({path:t,query:e}){dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.started&&this.stores.navigating.set({from:{path:this.current.page.path,query:this.current.page.query},to:{path:t,query:e}})}async update(t,e){const a=this.token={},n=await this._get_navigation_result(t);if(a!==this.token)return;if(n.reload)location.reload();else if(n.redirect){if(!(e.length>10||e.includes(t.path)))return void(this.router?this.router.goto(n.redirect,{replaceState:!0},[...e,t.path]):location.href=new URL(n.redirect,location.href).href);this.root.$set({status:500,error:new Error("Redirect loop")})}else this.started?(this.current=n.state,this.root.$set(n.props),this.stores.navigating.set(null),await 0):this._init(n);dispatchEvent(new CustomEvent("sveltekit:navigation-end")),this.loading.promise=null,this.loading.id=null;!1===n.state.nodes[n.state.nodes.length-1].module.router?this.router.disable():this.router.enable()}load(t){return this.loading.promise=this._get_navigation_result(t),this.loading.id=t.id,this.loading.promise}async _get_navigation_result(t){if(this.loading.id===t.id)return this.loading.promise;for(let e=0;e<t.routes.length;e+=1){const a=t.routes[e],[n,r,s]=a;if(1===a.length)return{reload:!0};let o=e+1;for(;o<t.routes.length;){const e=t.routes[o];if(e[0].toString()!==n.toString())break;1!==e.length&&e[1].forEach((t=>t())),o+=1}const c=r.map((t=>t())),i={host:this.host,path:t.path,params:s?s(a[0].exec(t.path)):{},query:t.query},l=await this._load({status:200,error:null,nodes:c,page:i});if(l)return l}return await this._load({status:404,error:new Error(`Not found: ${t.path}`),nodes:[],page:{host:this.host,path:t.path,query:t.query,params:{}}})}_init(t){this.current=t.state;const e=document.querySelector("style[data-svelte]");e&&e.remove(),this.root=new this.Root({target:this.target,props:__spreadValues({stores:this.stores},t.props),hydrate:!0}),this.started=!0}async _load({status:t,error:e,nodes:a,page:n}){const r=n.query.toString(),s={state:{page:n,query:r,session_changed:!1,nodes:[],contexts:[]},props:{status:t,error:e,components:[]}},o={path:!this.current.page||n.path!==this.current.page.path,params:Object.keys(n.params).filter((t=>!this.current.page||this.current.page.params[t]!==n.params[t])),query:r!==this.current.query,session:this.current.session_changed,context:!1};try{const t=[this.layout,...a],c=[];let i;for(let a=0;a<t.length;a+=1){const l=this.current.nodes[a],d=this.current.contexts[a],_=await t[a];if(s.props.components[a]=_.default,_.preload)throw new Error("preload has been deprecated in favour of load. Please consult the documentation: https://kit.svelte.dev/docs#loading");if(!l||_!==l.module||o.path&&l.uses.path||o.params.some((t=>l.uses.params.has(t)))||o.query&&l.uses.query||o.session&&l.uses.session||o.context&&l.uses.context){const l=n.path+r,d=this.caches.get(_),p=d&&d.get(l);let h,u;if(!p||o.context&&p.node.uses.context){h={module:_,uses:{params:new Set,path:!1,query:!1,session:!1,context:!1}};const r={};for(const t in n.params)Object.defineProperty(r,t,{get:()=>(h.uses.params.add(t),n.params[t]),enumerable:!0});const s=this.$session;if(_.load){u=await _.load.call(null,{page:{host:n.host,params:r,get path(){return h.uses.path=!0,n.path},get query(){return h.uses.query=!0,n.query}},get session(){return h.uses.session=!0,s},get context(){return h.uses.context=!0,__spreadValues({},i)},fetch:this.started?fetch:initial_fetch});const o=a===t.length-1&&!e;if(!u&&o)return}}else({node:h,loaded:u}=p);if(u){if(u=normalize(u),u.error){if(e)throw e;return await this._load({status:u.status||500,error:u.error,nodes:[],page:{host:n.host,path:n.path,query:n.query,params:{}}})}if(u.redirect)return{redirect:u.redirect};if(u.context&&(o.context=!0,i=__spreadValues(__spreadValues({},i),u.context)),u.maxage){this.caches.has(_)||this.caches.set(_,new Map);const t=this.caches.get(_),e={node:h,loaded:u};t.set(l,e);let a=!1;const n=setTimeout((()=>{r()}),1e3*u.maxage),r=()=>{t.get(l)===e&&t.delete(l),s(),clearTimeout(n)},s=this.stores.session.subscribe((()=>{a&&r()}));a=!0}c[a]=u.props}s.state.nodes[a]=h,s.state.contexts[a]=i}else s.state.nodes[a]=l,s.state.contexts[a]=i=d}return(await Promise.all(c)).forEach(((t,e)=>{t&&(s.props[`props_${e}`]=t)})),this.current.page&&n.path===this.current.page.path&&!o.query||(s.props.page=n),s}catch(c){if(e)throw e;return await this._load({status:500,error:c,nodes:[],page:{host:n.host,path:n.path,query:n.query,params:{}}})}}}async function start({paths:t,target:e,session:a,host:n,route:r,hydrate:s}){const o=r&&new Router({base:t.base,routes:routes}),c=new Renderer({Root:Root,layout:layout,target:e,session:a,host:n});s&&await c.start(s),r&&o.init(c),dispatchEvent(new CustomEvent("sveltekit:start"))}export{start};
